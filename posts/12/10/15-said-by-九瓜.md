
### 关于 Node 一些负面评价

早上看到@九瓜 老师的微博转发这个,, 继而翻到一批评论 Node 的微博..
http://weibo.com/robbinfan

"""
周末在看各种node.js的框架和库，翻了翻github上的的项目，想找些上代码量和架构上规模sample来学习学习。看了半天没找到代码写的漂亮的。nodeclub的项目代码越看我心越凉，从一个RoRer角度看过去，简直回到了刀耕火种的时代。难道我为了事件模型和V8虚拟机竟然要做出如此大的牺牲？

nodeclub如果仅仅只是代码风格差异还好说，问题是整个项目代码架构欠考虑，大量充斥 if (!req.session.user) ... return;) 这种代码hardcode判断用户是否登录和页面跳转，让我无法接受。粗略估计，整个项目代码量大约是同样RoR实现的3倍左右。看来天下没有免费的午餐，新东西有好处必然有弊端。

看不下去的地方还有很多，模型的查询方法放在了controller里面不说，还exports出来给其他controller调用，控制器角色混乱；文件相互之间到处require，想象如果项目架构修改，还不得大面积修改源文件啊。我也不知道expressjs本来写的web项目就如此还是怎么回事，谁给推荐个写的好的项目代码观摩一下？

ruby的虚拟机发展过于缓慢完全不能和V8比，异步事件框架也接近停滞，但Web框架方面还是无敌的。node虚拟机V8令人垂涎，异步事件框架也很有吸引力，JS语法人人都会也不构成门槛，这是node吸引我的地方。但看用node写的项目代码质量实在太不讲究了，今年底开源一个用RoR写的项目给大家看看讲究的代码

痛苦啊，Sequelize.js Guide看完了，发现没有一点谈到Transaction，find方法也就是轻描淡写，太不实用啊。莫办法啊，Node.js用来做生产项目，真的还要等上一年半载，还是先回头用RoR吧。
"""

看到评论不懂就问了下, 收到的评论觉得很受益. 记录一下:
http://weibo.com/1654762921/z0tdXxyFk

"""
Node.js 就是在重新发明轮子. 它所鼓吹的异步编程是个伪命题.

异步事件处理和协程 (coroutine) 可以等价互换, 我之前给过 50 行 Haskell 部实现.
实际上所有 IO 都用异步做是非常不便而且愚蠢的. 后来 js 不得不引入 fiber 库, 实际上就是协程.

异步编程理应是一个语言所支援的众多抽象方式的一种. 它也不是神马新概念,
在 web programming 中带来的效率提升完全可以通过使用更好的 server 架构來获得,
而不是因为什么语言特性.

最后, V8 的 JIT 技术也只是和其它 js 的实现比起来更好.
完全比不过编译语言的效率, 就算是和 LuaJIT 这样的比, 也只是相当.

使用回调函数进行异步编程, 是 inversion of control, 非常不方便,
让整个程序的流程变得不清晰, bug 多难维护.
有更好的方式不用, 把这个当做最佳特性來宣传不是愚蠢是什么?
"""
